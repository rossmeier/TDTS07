<?xml version="1.0" encoding="utf-8"?><!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'><nta><declaration>// Place global declarations here.
chan s0;
broadcast chan r0;
chan s1;
broadcast chan r1;
chan sack0;
chan sack1;
broadcast chan rack0;
broadcast chan rack1;</declaration><template><name x="5" y="5">Sender</name><declaration>// Place local declarations here.
clock clk_gen;
// generation frequency
const int gen = 3;
clock clk_timeout;
const int timeout = 5;</declaration><location id="id0" x="-672" y="-104"><name x="-682" y="-134">wait1</name></location><location id="id1" x="-832" y="-104"><name x="-842" y="-134">send1</name><urgent/></location><location id="id2" x="-1000" y="-104"><name x="-1010" y="-134">idle1</name><label kind="invariant" x="-1048" y="-88">clk_gen&lt;=gen</label></location><location id="id3" x="-832" y="-216"><name x="-880" y="-248">send0</name><urgent/></location><location id="id4" x="-1136" y="-104"><name x="-1146" y="-134">start1</name><urgent/></location><location id="id5" x="-672" y="-216"><name x="-664" y="-248">wait0</name><label kind="invariant" x="-736" y="-200">clk_timeout&lt;=timeout</label></location><location id="id6" x="-1000" y="-216"><name x="-1016" y="-248">idle0</name><label kind="invariant" x="-1056" y="-200">clk_gen&lt;=gen</label></location><location id="id7" x="-1136" y="-216"><name x="-1152" y="-248">start0</name><urgent/></location><init ref="id7"/><transition><source ref="id0"/><target ref="id1"/><label kind="synchronisation" x="-776" y="-48">rack0?</label><nail x="-672" y="-48"/><nail x="-832" y="-48"/></transition><transition><source ref="id0"/><target ref="id1"/><label kind="guard" x="-832" y="-72">clk_timeout==timeout</label><nail x="-672" y="-72"/><nail x="-832" y="-72"/></transition><transition><source ref="id0"/><target ref="id7"/><label kind="synchronisation" x="-632" y="-120">rack1?</label><nail x="-544" y="-104"/><nail x="-544" y="-152"/><nail x="-1176" y="-152"/><nail x="-1176" y="-216"/></transition><transition><source ref="id1"/><target ref="id0"/><label kind="synchronisation" x="-812" y="-119">s1!</label><label kind="assignment" x="-812" y="-104">clk_timeout=0</label></transition><transition><source ref="id2"/><target ref="id1"/><label kind="guard" x="-976" y="-120">clk_gen==gen</label></transition><transition><source ref="id4"/><target ref="id2"/><label kind="assignment" x="-1112" y="-120">clk_gen=0</label></transition><transition><source ref="id5"/><target ref="id3"/><label kind="synchronisation" x="-784" y="-288">rack1?</label><nail x="-672" y="-272"/><nail x="-832" y="-272"/></transition><transition><source ref="id5"/><target ref="id3"/><label kind="guard" x="-832" y="-264">clk_timeout==timeout</label><nail x="-672" y="-248"/><nail x="-832" y="-248"/></transition><transition><source ref="id3"/><target ref="id5"/><label kind="synchronisation" x="-812" y="-231">s0!</label><label kind="assignment" x="-812" y="-216">clk_timeout=0</label></transition><transition><source ref="id6"/><target ref="id3"/><label kind="guard" x="-976" y="-232">clk_gen==gen</label></transition><transition><source ref="id5"/><target ref="id4"/><label kind="synchronisation" x="-632" y="-232">rack0?</label><nail x="-544" y="-216"/><nail x="-544" y="-168"/><nail x="-1184" y="-168"/><nail x="-1184" y="-104"/></transition><transition><source ref="id7"/><target ref="id6"/><label kind="assignment" x="-1112" y="-232">clk_gen=0</label></transition></template><template><name>Channel</name><location id="id8" x="392" y="128"><urgent/></location><location id="id9" x="224" y="248"><name x="214" y="218">rrack1</name><urgent/></location><location id="id10" x="224" y="160"><name x="214" y="130">rrack0</name><urgent/></location><location id="id11" x="224" y="72"><name x="214" y="42">rr1</name><urgent/></location><location id="id12" x="224" y="-16"><name x="214" y="-46">rr0</name><urgent/></location><location id="id13" x="24" y="248"><name x="14" y="218">ssack1</name><urgent/></location><location id="id14" x="24" y="160"><name x="14" y="130">ssack0</name><urgent/></location><location id="id15" x="16" y="72"><name x="6" y="42">ss1</name><urgent/></location><location id="id16" x="16" y="-16"><name x="6" y="-46">ss0</name><urgent/></location><location id="id17" x="-96" y="80"></location><init ref="id17"/><transition><source ref="id13"/><target ref="id10"/></transition><transition><source ref="id14"/><target ref="id9"/></transition><transition><source ref="id15"/><target ref="id12"/></transition><transition><source ref="id16"/><target ref="id11"/></transition><transition><source ref="id8"/><target ref="id17"/><nail x="360" y="280"/><nail x="-80" y="280"/><nail x="-144" y="80"/></transition><transition><source ref="id13"/><target ref="id9"/><nail x="128" y="264"/></transition><transition><source ref="id13"/><target ref="id9"/><nail x="128" y="232"/></transition><transition><source ref="id13"/><target ref="id9"/></transition><transition><source ref="id14"/><target ref="id10"/><nail x="128" y="176"/></transition><transition><source ref="id14"/><target ref="id10"/><nail x="128" y="144"/></transition><transition><source ref="id14"/><target ref="id10"/></transition><transition><source ref="id15"/><target ref="id11"/><nail x="120" y="88"/></transition><transition><source ref="id15"/><target ref="id11"/><nail x="120" y="56"/></transition><transition><source ref="id15"/><target ref="id11"/></transition><transition><source ref="id16"/><target ref="id12"/><nail x="120" y="0"/></transition><transition><source ref="id16"/><target ref="id12"/><nail x="120" y="-32"/></transition><transition><source ref="id16"/><target ref="id12"/></transition><transition><source ref="id9"/><target ref="id8"/><label kind="synchronisation" x="240" y="232">rack1!</label><nail x="320" y="248"/></transition><transition><source ref="id10"/><target ref="id8"/><label kind="synchronisation" x="248" y="144">rack0!</label><nail x="312" y="160"/></transition><transition><source ref="id11"/><target ref="id8"/><label kind="synchronisation" x="248" y="56">r1!</label><nail x="304" y="72"/></transition><transition><source ref="id12"/><target ref="id8"/><label kind="synchronisation" x="240" y="-32">r0!</label><nail x="320" y="-16"/></transition><transition><source ref="id17"/><target ref="id13"/><label kind="synchronisation" x="-64" y="208">sack1?</label></transition><transition><source ref="id17"/><target ref="id14"/><label kind="synchronisation" x="-24" y="112">sack0?</label></transition><transition><source ref="id17"/><target ref="id15"/><label kind="synchronisation" x="-56" y="56">s1?</label></transition><transition><source ref="id17"/><target ref="id16"/><label kind="synchronisation" x="-64" y="8">s0?</label></transition></template><template><name>Receiver</name><declaration>clock clk_timeout;
const int timeout=5;</declaration><location id="id18" x="-864" y="-8"><name x="-888" y="8">nack1</name><urgent/></location><location id="id19" x="-864" y="-248"><name x="-888" y="-280">nack0</name><urgent/></location><location id="id20" x="-576" y="-64"><name x="-584" y="-48">recv1</name><urgent/></location><location id="id21" x="-576" y="-192"><name x="-584" y="-224">recv0</name><urgent/></location><location id="id22" x="-704" y="-64"><name x="-720" y="-96">wait1</name><label kind="invariant" x="-768" y="-112">clk_timeout&lt;=timeout</label></location><location id="id23" x="-864" y="-64"><name x="-888" y="-96">start1</name><urgent/></location><location id="id24" x="-704" y="-192"><name x="-728" y="-176">wait0</name><label kind="invariant" x="-768" y="-160">clk_timeout&lt;=timeout</label></location><location id="id25" x="-864" y="-192"><name x="-888" y="-176">start0</name><urgent/></location><init ref="id25"/><transition><source ref="id19"/><target ref="id25"/><label kind="synchronisation" x="-912" y="-232">sack1!</label></transition><transition><source ref="id18"/><target ref="id23"/><label kind="synchronisation" x="-912" y="-40">sack0!</label></transition><transition><source ref="id22"/><target ref="id18"/><label kind="synchronisation" x="-792" y="-32">r0?</label><nail x="-704" y="-32"/><nail x="-832" y="-32"/></transition><transition><source ref="id22"/><target ref="id18"/><label kind="guard" x="-840" y="-8">clk_timeout==timeout</label><nail x="-704" y="-8"/></transition><transition><source ref="id24"/><target ref="id19"/><label kind="synchronisation" x="-784" y="-240">r1?</label><nail x="-704" y="-224"/><nail x="-832" y="-224"/></transition><transition><source ref="id24"/><target ref="id19"/><label kind="guard" x="-832" y="-264">clk_timeout==timeout</label><nail x="-704" y="-248"/></transition><transition><source ref="id21"/><target ref="id23"/><label kind="synchronisation" x="-568" y="-160">sack0!</label><nail x="-576" y="-136"/><nail x="-928" y="-136"/><nail x="-928" y="-64"/></transition><transition><source ref="id20"/><target ref="id25"/><label kind="synchronisation" x="-568" y="-112">sack1!</label><nail x="-576" y="-120"/><nail x="-952" y="-120"/><nail x="-952" y="-192"/></transition><transition><source ref="id22"/><target ref="id20"/><label kind="synchronisation" x="-656" y="-64">r1?</label></transition><transition><source ref="id24"/><target ref="id21"/><label kind="synchronisation" x="-656" y="-208">r0?</label></transition><transition><source ref="id23"/><target ref="id22"/><label kind="assignment" x="-840" y="-64">clk_timeout=0</label></transition><transition><source ref="id25"/><target ref="id24"/><label kind="assignment" x="-840" y="-192">clk_timeout=0</label></transition></template><system>// Place template instantiations here.
S = Sender();
R = Receiver();
C = Channel();

// List one or more processes to be composed into a system.
system S,C,R;</system></nta>